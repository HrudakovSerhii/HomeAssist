<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SerhiiHomeAI - Data Preview</title>
    <link rel="stylesheet" href="/css/data-preview.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <h1 class="header-title">
                <span class="logo">üè†</span>
                Email Data Preview
            </h1>
            <nav class="header-nav">
                <button id="extracted-tab" class="tab-button active">Extracted Data</button>
                <a href="/add-account.html" class="add-email-button">
                    <span class="add-email-icon">üìß</span>
                    Add Email
                </a>
            </nav>
        </div>
    </header>
    
    <main class="main-content">
        <!-- Loading Indicator -->
        <div id="loading" class="loading hidden">
            <div class="loading-spinner"></div>
            <span>Loading data...</span>
        </div>

        <!-- Error Message -->
        <div id="error-message" class="error-message hidden">
            <div class="error-content">
                <span class="error-icon">‚ö†Ô∏è</span>
                <span id="error-text">An error occurred while loading data.</span>
                <button id="retry-button" class="retry-button">Retry</button>
            </div>
        </div>
        
        <!-- Filters Section -->
        <section id="filters" class="filters-section">
            <div class="filters-header">
                <h2>Filters & Search</h2>
                <button id="clear-filters" class="clear-filters-button">Clear All</button>
            </div>
            
            <form id="filter-form" class="filter-form">
                <!-- Search -->
                <div class="filter-group">
                    <label for="search-input" class="filter-label">Search</label>
                    <input 
                        type="text" 
                        id="search-input" 
                        name="search" 
                        placeholder="Search in email subjects and summaries..." 
                        class="filter-input"
                    >
                </div>

                <!-- Basic Filters Row -->
                <div class="filter-row">
                    <div class="filter-group">
                        <label for="category-select" class="filter-label">Category</label>
                        <select id="category-select" name="category" class="filter-select">
                            <option value="">All Categories</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="priority-select" class="filter-label">Priority</label>
                        <select id="priority-select" name="priority" class="filter-select">
                            <option value="">All Priorities</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="sentiment-select" class="filter-label">Sentiment</label>
                        <select id="sentiment-select" name="sentiment" class="filter-select">
                            <option value="">All Sentiments</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="confidence-input" class="filter-label">Min Confidence</label>
                        <input 
                            type="number" 
                            id="confidence-input" 
                            name="minConfidence" 
                            min="0" 
                            max="1" 
                            step="0.1" 
                            placeholder="0.0"
                            class="filter-input"
                        >
                    </div>
                </div>

                <!-- Advanced Filters Row -->
                <div class="filter-row">
                    <div class="filter-group">
                        <label for="entity-type-select" class="filter-label">Entity Type</label>
                        <select id="entity-type-select" name="entityType" class="filter-select">
                            <option value="">All Entity Types</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="action-type-select" class="filter-label">Action Type</label>
                        <select id="action-type-select" name="actionType" class="filter-select">
                            <option value="">All Action Types</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="date-from-input" class="filter-label">Date From</label>
                        <input 
                            type="date" 
                            id="date-from-input" 
                            name="dateFrom" 
                            class="filter-input"
                        >
                    </div>

                    <div class="filter-group">
                        <label for="date-to-input" class="filter-label">Date To</label>
                        <input 
                            type="date" 
                            id="date-to-input" 
                            name="dateTo" 
                            class="filter-input"
                        >
                    </div>
                </div>

                <!-- Sort Controls -->
                <div class="filter-row">
                    <div class="filter-group">
                        <label for="sort-by-select" class="filter-label">Sort By</label>
                        <select id="sort-by-select" name="sortBy" class="filter-select">
                            <option value="createdAt">Created Date</option>
                            <option value="updatedAt">Updated Date</option>
                            <option value="confidence">Confidence</option>
                            <option value="receivedAt">Received Date</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="sort-order-select" class="filter-label">Sort Order</label>
                        <select id="sort-order-select" name="sortOrder" class="filter-select">
                            <option value="desc">Descending</option>
                            <option value="asc">Ascending</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="limit-select" class="filter-label">Items per Page</label>
                        <select id="limit-select" name="limit" class="filter-select">
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>

                    <div class="filter-group filter-actions">
                        <button type="submit" class="apply-filters-button">Apply Filters</button>
                    </div>
                </div>
            </form>
        </section>
        
        <!-- Data Tables Section -->
        <section id="data-tables" class="data-tables-section">
            <div class="table-header">
                <h2>Extracted Email Data</h2>
                <div class="table-info">
                    <span id="results-count">0 results</span>
                </div>
            </div>
            
            <div class="table-container">
                <table id="extracted-data-table" class="data-table">
                    <thead>
                        <tr>
                            <th class="expand-column"></th>
                            <th class="sortable" data-sort="email.subject">Email Subject</th>
                            <th class="sortable" data-sort="category">Category</th>
                            <th class="sortable" data-sort="priority">Priority</th>
                            <th class="sortable" data-sort="sentiment">Sentiment</th>
                            <th class="sortable" data-sort="confidence">Confidence</th>
                            <th class="sortable" data-sort="createdAt">Created</th>
                            <th class="actions-column">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        <!-- Dynamic content will be inserted here -->
                    </tbody>
                </table>
            </div>

            <!-- Empty State -->
            <div id="empty-state" class="empty-state hidden">
                <div class="empty-state-content">
                    <span class="empty-state-icon">üì≠</span>
                    <h3>No data found</h3>
                    <p>Try adjusting your filters or search terms.</p>
                </div>
            </div>
        </section>
        
        <!-- Pagination Section -->
        <section id="pagination" class="pagination-section">
            <div class="pagination-info">
                <span id="pagination-text">Showing 0 of 0 results</span>
            </div>
            <div class="pagination-controls">
                <button id="prev-page" class="pagination-button" disabled>Previous</button>
                <div id="page-numbers" class="page-numbers">
                    <!-- Dynamic page numbers will be inserted here -->
                </div>
                <button id="next-page" class="pagination-button" disabled>Next</button>
            </div>
        </section>
    </main>
    
    <script src="/js/data-preview.js"></script>
</body>
</html> 